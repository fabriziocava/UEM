/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
create table APPEAL (APPEAL_ID bigint generated by default as identity (start with 1), CLOSE_DATE timestamp, CURR_INSCRIBED integer, EXAM_DATE timestamp, LOCATION varchar(255), MAX_INSCRIBED integer, NAME varchar(255), OPEN_DATE timestamp, course_COURSE_ID bigint, creatorProfessor_ID bigint, primary key (APPEAL_ID))
create table APPEAL_STUDENT (APPEL_ID bigint not null, ID bigint not null, primary key (APPEL_ID, ID), unique (ID))
create table COMMENT_OF_MESSAGE (COMMENT_ID bigint generated by default as identity (start with 1), COMMENT varchar(255) not null, DATE_OF_COMMENT timestamp not null, ofMessage_MESSAGE_OF_GROUP_ID bigint, user_ID bigint, primary key (COMMENT_ID))
create table COURSE (COURSE_ID bigint generated by default as identity (start with 1), CODE varchar(255) not null, CREDITS integer not null, NAME varchar(255) not null, URL_WEB_SITE varchar(255), holder_ID bigint, primary key (COURSE_ID))
create table COURSE_REQUESTCOURSE (COURSE_ID bigint not null, REQUEST_COURSE_ID bigint not null, primary key (COURSE_ID, REQUEST_COURSE_ID), unique (REQUEST_COURSE_ID))
create table DEGREECOURSE_STUDENT (DEGREE_COURSE_ID bigint not null, STUDENT_ID bigint not null, primary key (DEGREE_COURSE_ID, STUDENT_ID), unique (STUDENT_ID))
create table DEGREE_COURSE (DEGREE_COURSE_ID bigint generated by default as identity (start with 1), NAME varchar(255) not null, department_associated_DEPARTMENT_ID bigint, primary key (DEGREE_COURSE_ID), unique (NAME))
create table DEPARTMENT (DEPARTMENT_ID bigint generated by default as identity (start with 1), CITY varchar(255), STATE varchar(255), STREET varchar(255), ZIP varchar(255), CODE varchar(255), NAME varchar(255), primary key (DEPARTMENT_ID))
create table DEPARTMENT_DEGREECOURSE (DEPARTMENT_ID bigint not null, DEGREE_COURSE_ID bigint not null, primary key (DEPARTMENT_ID, DEGREE_COURSE_ID), unique (DEGREE_COURSE_ID))
create table DEPARTMENT_PROFESSOR (DEPARTMENT_ID bigint not null, ID bigint not null, primary key (DEPARTMENT_ID, ID), unique (ID))
create table EMAIL (EMAIL_ID bigint generated by default as identity (start with 1), EMAIL varchar(255), EMAIL_TYPE varchar(255), user_ID bigint, primary key (EMAIL_ID), unique (EMAIL))
create table GROUP_MESSAGE (GROUP_ID bigint not null, MESSAGE_OF_GROUP_ID bigint not null, unique (MESSAGE_OF_GROUP_ID))
create table GROUP_TABLE (GROUP_ID bigint generated by default as identity (start with 1), DESCRIPTION varchar(255), POLICY integer, NAME varchar(255), OBJECT varchar(255), USER_GRUOP bigint, primary key (GROUP_ID))
create table MANAGER (ID bigint not null, department_associated_DEPARTMENT_ID bigint, primary key (ID))
create table MANAGER_PHONE (MANAGER_ID bigint not null, PHONE_ID bigint not null, primary key (MANAGER_ID, PHONE_ID), unique (PHONE_ID))
create table MESSAGE_COMMENT (MESSAGE_ID bigint not null, COMMENT_ID bigint not null, primary key (MESSAGE_ID, COMMENT_ID), unique (COMMENT_ID))
create table MESSAGE_OF_GROUP (MESSAGE_OF_GROUP_ID bigint generated by default as identity (start with 1), DATE_OF_MESSAGE timestamp not null, MESSAGE varchar(255) not null, group_GROUP_ID bigint not null, user_ID bigint, primary key (MESSAGE_OF_GROUP_ID))
create table PHONE_NUMBER (PHONE_ID bigint generated by default as identity (start with 1), PHONE_NUMBER varchar(255), PHONE_TYPE varchar(255), primary key (PHONE_ID))
create table PROFESSOR (ID bigint not null, department_associated_DEPARTMENT_ID bigint, primary key (ID))
create table PROFESSOR_APPEAL (PROFESSOR_ID bigint not null, APPEAL_ID bigint not null, primary key (PROFESSOR_ID, APPEAL_ID), unique (APPEAL_ID))
create table PROFESSOR_COURSE_COMMISSION (PROFESSOR_ID bigint not null, COURSE_ID bigint not null, primary key (PROFESSOR_ID, COURSE_ID))
create table PROFESSOR_COURSE_HOLDER (PROFESSOR_ID bigint not null, COURSE_ID bigint not null, primary key (PROFESSOR_ID, COURSE_ID), unique (COURSE_ID))
create table READ_COMMENT (ID bigint not null, UNREAD bigint)
create table REQUESTED_COURSE (REQUESTED_COURSE_ID bigint generated by default as identity (start with 1), POLICY integer, course_COURSE_ID bigint, primary key (REQUESTED_COURSE_ID))
create table STUDENT (FISCAL_CODE varchar(16), NAME varchar(255) not null, SERIAL_NUMBER bigint not null, SURNAME varchar(255) not null, STUDENT_ID bigint not null, degreeCourse_registered_DEGREE_COURSE_ID bigint, primary key (STUDENT_ID), unique (SERIAL_NUMBER))
create table STUDENT_APPEAL (STUDENT_ID bigint not null, APPEAL_ID bigint not null, primary key (STUDENT_ID, APPEAL_ID), unique (APPEAL_ID))
create table STUDENT_COURSE (STUDENT_ID bigint not null, COURSE_ID bigint not null, primary key (STUDENT_ID, COURSE_ID), unique (COURSE_ID))
create table STUDENT_GROUP (STUDENT_ID bigint not null, GROUP_ID bigint not null, primary key (STUDENT_ID, GROUP_ID), unique (GROUP_ID))
create table USER (ID bigint generated by default as identity (start with 1), CITY varchar(255), STATE varchar(255), STREET varchar(255), ZIP varchar(255), NAME varchar(255) not null, PASSWORD varchar(255) not null, SESSION_ID varchar(255), SURNAME varchar(255) not null, TYPE integer, WEB_SITE varchar(255), primary key (ID))
create table USER_COMMENT (ID bigint not null, COMMENT_ID bigint not null, primary key (ID, COMMENT_ID), unique (COMMENT_ID))
create table USER_EMAIL (ID bigint not null, EMAIL_ID bigint not null, primary key (ID, EMAIL_ID), unique (EMAIL_ID))
create table USER_GRUOP (ID bigint not null, GROUP_ID bigint not null, primary key (ID, GROUP_ID), unique (GROUP_ID))
create table USER_PHONE (ID bigint not null, PHONE_ID bigint not null, primary key (ID, PHONE_ID), unique (PHONE_ID))
alter table APPEAL add constraint FK7377C18F67CBA1D8 foreign key (course_COURSE_ID) references COURSE
alter table APPEAL add constraint FK7377C18F2D97E524 foreign key (creatorProfessor_ID) references PROFESSOR
alter table APPEAL_STUDENT add constraint FKBDBA776B3F45FE74 foreign key (ID) references STUDENT
alter table APPEAL_STUDENT add constraint FKBDBA776BD67084E3 foreign key (APPEL_ID) references APPEAL
alter table COMMENT_OF_MESSAGE add constraint FK67FAC37F5097BA61 foreign key (ofMessage_MESSAGE_OF_GROUP_ID) references MESSAGE_OF_GROUP
alter table COMMENT_OF_MESSAGE add constraint FK67FAC37F973FEF7C foreign key (user_ID) references USER
alter table COURSE add constraint FK76D5D41B6FFAA9B foreign key (holder_ID) references PROFESSOR
alter table COURSE_REQUESTCOURSE add constraint FK85F25E26C7A2856 foreign key (REQUEST_COURSE_ID) references REQUESTED_COURSE
alter table COURSE_REQUESTCOURSE add constraint FK85F25E26EB40ECFC foreign key (COURSE_ID) references COURSE
alter table DEGREECOURSE_STUDENT add constraint FKBD8FCBC31BC72F8 foreign key (STUDENT_ID) references STUDENT
alter table DEGREECOURSE_STUDENT add constraint FKBD8FCBC3324177B5 foreign key (DEGREE_COURSE_ID) references DEGREE_COURSE
alter table DEGREE_COURSE add constraint FK70BF0EE1ABF6170 foreign key (department_associated_DEPARTMENT_ID) references DEPARTMENT
alter table DEPARTMENT_DEGREECOURSE add constraint FK4AE91DB4D5B7AC9C foreign key (DEPARTMENT_ID) references DEPARTMENT
alter table DEPARTMENT_DEGREECOURSE add constraint FK4AE91DB4324177B5 foreign key (DEGREE_COURSE_ID) references DEGREE_COURSE
alter table DEPARTMENT_PROFESSOR add constraint FK18C191A2D5B7AC9C foreign key (DEPARTMENT_ID) references DEPARTMENT
alter table DEPARTMENT_PROFESSOR add constraint FK18C191A2BF060328 foreign key (ID) references PROFESSOR
alter table EMAIL add constraint FK3F0537C973FEF7C foreign key (user_ID) references USER
alter table GROUP_MESSAGE add constraint FKF1DC6207910272D0 foreign key (MESSAGE_OF_GROUP_ID) references MESSAGE_OF_GROUP
alter table GROUP_MESSAGE add constraint FKF1DC62077E040BF8 foreign key (GROUP_ID) references GROUP_TABLE
alter table GROUP_TABLE add constraint FKF8A321CE12AE1844 foreign key (USER_GRUOP) references USER
alter table MANAGER add constraint FK5C949B8DA0050E88 foreign key (ID) references USER
alter table MANAGER add constraint FK5C949B8D1ABF6170 foreign key (department_associated_DEPARTMENT_ID) references DEPARTMENT
alter table MANAGER_PHONE add constraint FKCCE8A61CE6C7E87F foreign key (PHONE_ID) references PHONE_NUMBER
alter table MANAGER_PHONE add constraint FKCCE8A61C75C925B8 foreign key (MANAGER_ID) references MANAGER
alter table MESSAGE_COMMENT add constraint FK2FBCD5E7934F4B18 foreign key (MESSAGE_ID) references MESSAGE_OF_GROUP
alter table MESSAGE_COMMENT add constraint FK2FBCD5E7F84B6270 foreign key (COMMENT_ID) references COMMENT_OF_MESSAGE
alter table MESSAGE_OF_GROUP add constraint FKE8BC874F973FEF7C foreign key (user_ID) references USER
alter table MESSAGE_OF_GROUP add constraint FKE8BC874FDCAC25B8 foreign key (group_GROUP_ID) references GROUP_TABLE
alter table PROFESSOR add constraint FK69F5E64FA0050E88 foreign key (ID) references USER
alter table PROFESSOR add constraint FK69F5E64F1ABF6170 foreign key (department_associated_DEPARTMENT_ID) references DEPARTMENT
alter table PROFESSOR_APPEAL add constraint FKDA1FF17F792887C foreign key (APPEAL_ID) references APPEAL
alter table PROFESSOR_APPEAL add constraint FKDA1FF17FF38446F8 foreign key (PROFESSOR_ID) references PROFESSOR
alter table PROFESSOR_COURSE_COMMISSION add constraint FK1D73559FF38446F8 foreign key (PROFESSOR_ID) references PROFESSOR
alter table PROFESSOR_COURSE_COMMISSION add constraint FK1D73559FEB40ECFC foreign key (COURSE_ID) references COURSE
alter table PROFESSOR_COURSE_HOLDER add constraint FKB4EC2860F38446F8 foreign key (PROFESSOR_ID) references PROFESSOR
alter table PROFESSOR_COURSE_HOLDER add constraint FKB4EC2860EB40ECFC foreign key (COURSE_ID) references COURSE
alter table READ_COMMENT add constraint FKF15F7C96A0050E88 foreign key (ID) references USER
alter table REQUESTED_COURSE add constraint FK4932F62C67CBA1D8 foreign key (course_COURSE_ID) references COURSE
alter table STUDENT add constraint FKBACA0E1BAA67C17A foreign key (degreeCourse_registered_DEGREE_COURSE_ID) references DEGREE_COURSE
alter table STUDENT add constraint FKBACA0E1B627B830C foreign key (STUDENT_ID) references USER
alter table STUDENT_APPEAL add constraint FKC811AC33792887C foreign key (APPEAL_ID) references APPEAL
alter table STUDENT_APPEAL add constraint FKC811AC331BC72F8 foreign key (STUDENT_ID) references STUDENT
alter table STUDENT_COURSE add constraint FKCB6FBEBF1BC72F8 foreign key (STUDENT_ID) references STUDENT
alter table STUDENT_COURSE add constraint FKCB6FBEBFEB40ECFC foreign key (COURSE_ID) references COURSE
alter table STUDENT_GROUP add constraint FKCCFB2F3B1BC72F8 foreign key (STUDENT_ID) references STUDENT
alter table STUDENT_GROUP add constraint FKCCFB2F3B7E040BF8 foreign key (GROUP_ID) references GROUP_TABLE
alter table USER_COMMENT add constraint FK19DA09CBA0050E88 foreign key (ID) references USER
alter table USER_COMMENT add constraint FK19DA09CBF84B6270 foreign key (COMMENT_ID) references COMMENT_OF_MESSAGE
alter table USER_EMAIL add constraint FKC60F5608A0050E88 foreign key (ID) references USER
alter table USER_EMAIL add constraint FKC60F5608B70639D6 foreign key (EMAIL_ID) references EMAIL
alter table USER_GRUOP add constraint FKC62E16B7A0050E88 foreign key (ID) references USER
alter table USER_GRUOP add constraint FKC62E16B77E040BF8 foreign key (GROUP_ID) references GROUP_TABLE
alter table USER_PHONE add constraint FKC6A847DAA0050E88 foreign key (ID) references USER
alter table USER_PHONE add constraint FKC6A847DAE6C7E87F foreign key (PHONE_ID) references PHONE_NUMBER
INSERT INTO DEPARTMENT VALUES(1,'COSENZA','ITALY','VIA PIETRO BUCCI, 56','87100','A1','MATEMATICA E INFORMATICA')
COMMIT
